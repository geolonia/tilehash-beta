# tilehash

A Z-order curve for encoding Slippy map tile coordinates.

Inspired by Geohash, but is directly compatible with map tiles. Uses hexadecimal to encode binary data

tilehash encodes recursive relative tile coordinates left-to-right, in increasing precision. One 2-bit chunk corresponds to one zoom level.

### Example: Progressive encoding

| Binary                                       | Hex           | X       | Y       | Z  |
|----------------------------------------------|---------------|---------|---------|----|
| 10                                           | -             | 1       | 0       | 1  |
| 1011                                         | 0xb           | 3       | 1       | 2  |
| 101111                                       | -             | 7       | 3       | 3  |
| 10111100                                     | 0xbc          | 14      | 6       | 4  |
| 1011110000                                   | -             | 28      | 12      | 5  |
| 101111000001                                 | 0xbc1         | 56      | 25      | 6  |
| 10111100000110                               | -             | 113     | 50      | 7  |
| 1011110000011010                             | 0xbc1a        | 227     | 100     | 8  |
| 101111000001101001                           |               | 454     | 201     | 9  |
| 10111100000110100111                         | 0xbc1a7       | 909     | 403     | 10 |
| 1011110000011010011100                       |               | 1818    | 806     | 11 |
| 101111000001101001110010                     | 0xbc1a72      | 3637    | 1612    | 12 |
| 10111100000110100111001010                   |               | 7275    | 3224    | 13 |
| 1011110000011010011100101010                 | 0xbc1a72a     | 14551   | 6448    | 14 |
| 101111000001101001110010101011               |               | 29103   | 12897   | 15 |
| 10111100000110100111001010101101             | 0xbc1a72ad    | 58206   | 25795   | 16 |
| 1011110000011010011100101010110101           |               | 116412  | 51591   | 17 |
| 101111000001101001110010101011010110         | 0xbc1a72ad6   | 232825  | 103182  | 18 |
| 10111100000110100111001010101101011011       |               | 465651  | 206365  | 19 |
| 1011110000011010011100101010110101101110     | 0xbc1a72ad6e  | 931303  | 412730  | 20 |
| 101111000001101001110010101011010110111001   |               | 1862606 | 825461  | 21 |
| 10111100000110100111001010101101011011100101 | 0xbc1a72ad6e5 | 3725212 | 1650923 | 22 |


### Binary to child tile coordinate map

| Binary | Decimal | Tile Coordinates |
|--------|---------|------------------|
| 00 | 0 | 0, 0 |
| 01 | 1 | 0, 1 |
| 10 | 2 | 1, 0 |
| 11 | 3 | 1, 1 |

## [zfxy](https://github.com/unvt/zfxy-spec) support

zfxy is supported at all zoom levels by encoding the three dimensions using 3 bits and then encoding that binary using base-8.

At f=0, tilehash-zfxy is compatible with quadkey.

### Example

`2330012213022231127251`

|tilehash              |f  |x      |y      |z  |
|----------------------|---|-------|-------|---|
|2                     |0  |1      |0      |1  |
|23                    |0  |3      |1      |2  |
|233                   |0  |7      |3      |3  |
|2330                  |0  |14     |6      |4  |
|23300                 |0  |28     |12     |5  |
|233001                |0  |56     |25     |6  |
|2330012               |0  |113    |50     |7  |
|23300122              |0  |227    |100    |8  |
|233001221             |0  |454    |201    |9  |
|2330012213            |0  |909    |403    |10 |
|23300122130           |0  |1818   |806    |11 |
|233001221302          |0  |3637   |1612   |12 |
|2330012213022         |0  |7275   |3224   |13 |
|23300122130222        |0  |14551  |6448   |14 |
|233001221302223       |0  |29103  |12897  |15 |
|2330012213022231      |0  |58206  |25795  |16 |
|23300122130222311     |0  |116412 |51591  |17 |
|233001221302223116    |1  |232825 |103182 |18 |
|2330012213022231167   |3  |465651 |206365 |19 |
|23300122130222311672  |6  |931303 |412730 |20 |
|233001221302223116721 |12 |1862606|825461 |21 |
|2330012213022231167215|25 |3725212|1650923|22 |
